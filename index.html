<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Тренажёр по JavaScript</title>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;400;600&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet" />
	<link rel="apple-touch-icon-precomposed" type="image/x-icon" href="assets/images/favicons/512.png" sizes="512x512" />
	<link rel="apple-touch-icon-precomposed" type="image/x-icon" href="assets/images/favicons/256.png" sizes="256x256" />
	<link rel="apple-touch-icon-precomposed" type="image/x-icon" href="assets/images/favicons/128.png" sizes="128x128" />
	<link rel="icon" type="image/png" href="assets/images/favicons/favicon.png" sizes="64x64" />
	<link rel="stylesheet" href="assets/css/bootstrap.css" />
	<link rel="stylesheet" href="assets/css/style.css" />
	<link rel="stylesheet" href="assets/css/responsive.css" /> </head>

<body>
	<div class="content">
		<h1>Тренажёр по JavaScript</h1>
		<div class="accordion" id="accordionExample">
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab1">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block1" aria-expanded="true" aria-controls="block1">1. Описание тренажера</button>
                    </h2>
				<div id="block1" class="accordion-collapse collapse" aria-labelledby="tab1" data-bs-parent="#accordionExample">
					<div class="accordion-body"> <img src="assets/images/pics/js_trainig_intro.gif" alt="" />
						<p>Источник: <a href="giphy.com">giphy.com</a></p>
						<p>В этом тренажере вы найдете дополнительные задания для закрепления основных навыков написания кода на JavaScript, необходимых для придания интерактивности веб-страницам.</p> <pre>В случае возникновения затруднений, вы можете заглянуть в конец этого модуля, где расположены ответы к заданиям.</pre> <pre>Обратите внимание! Задания в этом тренажере не оцениваются. Учебный тренажер в первую очередь даёт вам возможность попрактиковаться, а не тестирует вас.</pre> </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab2">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block2" aria-expanded="false" aria-controls="block2">2. Операторы, значения, переменные</button>
                    </h2>
				<div id="block2" class="accordion-collapse collapse" aria-labelledby="tab2" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>Напишите программу, которая спрашивает у пользователя его имя и фамилию с помощью prompt и отвечает: Привет, {имя} {фамилия}! с помощью alert.</pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            name = prompt('Введите ваше имя');
                            lastName = prompt('Введите вашу фамилию');
                            fullName = name + ' ' + lastName;
                            alert('Привет, ' + fullName + '!');
                        </textarea>
						<br>
						<h4>Задание 2</h4>
						<p> Напишите программу, которая переводит температуру по Цельсию в температуру по Фаренгейту. Она должна спросить у пользователя количество градусов по Цельсию с помощью prompt и ответить: {X} градусов по Цельсию равны {Y} градусам по Фаренгейту. </p> <img src="assets/images/pics/fahrenheit_to_celsius_formulas.png" alt="" />
						<p>Формулы перевода шкал температур</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            celsius = prompt('Введите количество градусов по Цельсию')
                            fahrenheit = celsius * 9 / 5 + 32;
                            alert(celsius + ' градусов по Цельсию равны ' + fahrenheit + ' градусам по Фаренгейту')
                        </textarea>
						<br>
						<h4>Задание 3</h4>
						<p> Перепишите данную математическую формулу, используя JavaScript. Программа должна запрашивать с помощью prompt значение X и выдавать соответсвующее значение Y в качестве ответа. Обратите внимание на приоритет операций (важно правильно расставить скобки). </p> <img src="assets/images/pics/formula-slojenia.png" alt="" />
						<p>В качестве проверки: при X = 10 программа должна вывести Y = 12.5344.</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            x = prompt('Введите X');
                            y = (4 * x ** 2 + 18 - 23 * x) / (5 / 9 * x + 18 * ((x ** 3 / 33) * x) ) + x * (15 / 12);
                            alert('Y = ' + y);
                        </textarea>
						<br>
						<h4>Задание 4</h4>
						<p> Оператор typeof в JavaScript возвращает строку с типом данных переданного в него значения. Эта строка начинается с маленькой буквы. Например: typeof 123 вернёт строку 'number', а typeof undefined вернёт строку 'undefined'. </p>
						<p>Все возможные значения typeof: 'undefined', 'object', 'boolean', 'number', 'bigint', 'string', 'symbol', 'function'.</p> <pre>ВНИМАНИЕ! Из-за особенностей JavaScript typeof null вернёт 'object'. Запомните это и учтите при выполнении задания.</pre>
						<p>Найдите в коде строки 'SOME' и напишите вместо них нужное название типа — так, чтобы при запуске кода alert написал 'true'.</p>
						<p>Исходный код:</p>
						<textarea>
                            a = 12;
                            b = 'number';
                            c = false;
                            d = null;
                            e = undefined;
                            f = 123.34;
                            g = '1' + 1;
                            h = 15 / 0;
                            i = -'5';
                            j = 5 == '5'

                            at = typeof a === 'number'; // true
                            bt = typeof b === 'SOME'; // false, а нужно чтобы все были true
                            ct = typeof c === 'SOME';
                            dt = typeof d === 'SOME';
                            et = typeof e === 'SOME';
                            ft = typeof f === 'SOME';
                            gt = typeof g === 'SOME';
                            ht = typeof h === 'SOME';
                            it = typeof i === 'SOME';
                            jt = typeof j === 'SOME';

                            alert(at && bt && ct && dt && et && ft && gt && ht && it && jt);
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            a = 12;
                            b = 'number';
                            c = false;
                            d = null;
                            e = undefined;
                            f = 123.34;
                            g = '1' + 1;
                            h = 15 / 0;
                            i = -'5';
                            j = '5' == 5;

                            at = typeof a === 'number';
                            bt = typeof b === 'string';
                            ct = typeof c === 'boolean';
                            dt = typeof d === 'object';
                            et = typeof e === 'undefined';
                            ft = typeof f === 'number';
                            gt = typeof g === 'string';
                            ht = typeof h === 'number';
                            it = typeof i === 'number';
                            jt = typeof j === 'boolean';

                            alert(at && bt && ct && dt && et && ft && gt && ht && it && jt);
                        </textarea>
						<br>
						<h4>Задание 5</h4> <pre>
                                <p>Поменяйте код так, чтобы каждая переменная была объявлена до того, как ей присвоено значение. Пользуйтесь правилом: везде, где возможно, в первую очередь используйте const, если нельзя const, то let. И никогда не используйте var.</p>
                            </pre>
						<p>Исходный код:</p>
						<textarea>
                            NDS = 0.20
                            NDFL = 0.13
                            EXCISE = 0.1
                            RENT = 40000
                            FOOD = 15000
                            OTHER = 15000
                            MY_SALARY = 120000

                            ndflTax = MY_SALARY * NDFL;
                            mySalaryNet = MY_SALARY - ndflTax;
                            otherTaxes = mySalaryNet * (NDS + EXCISE);
                            totalAvailable = mySalaryNet - otherTaxes;
                            totalAvailable -= FOOD + OTHER + RENT
                            alert('Зарплата ' + MY_SALARY + ' рублей')
                            alert('Уплачено налогов на сумму ' + (ndflTax + otherTaxes) + ' рублей')
                            alert('Осталось ' + totalAvailable + ' рублей')
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const NDS = 0.20
                            const NDFL = 0.13
                            const EXCISE = 0.1
                            const RENT = 40000
                            const FOOD = 15000
                            const OTHER = 15000
                            const MY_SALARY = 120000

                            const ndflTax = MY_SALARY * NDFL;
                            const mySalaryNet = MY_SALARY - ndflTax;
                            const otherTaxes = mySalaryNet * (NDS + EXCISE);
                            let totalAvailable = mySalaryNet - otherTaxes;
                            totalAvailable -= FOOD + OTHER + RENT
                            alert('Зарплата ' + MY_SALARY + ' рублей')
                            alert('Уплачено налогов на сумму ' + (ndflTax + otherTaxes) + ' рублей')
                            alert('Осталось ' + totalAvailable + ' рублей')
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab3">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block3" aria-expanded="false" aria-controls="block3">3. Условия</button>
                    </h2>
				<div id="block3" class="accordion-collapse collapse" aria-labelledby="tab3" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите программу, которая запрашивает у пользователя три числа: Катет A, Катет B, и Гипотенуза C. Программа проверяет по теореме Пифагора эти стороны треугольника и пишет в консоль "Это прямоугольный треугольник!" или "Это не прямоугольный треугольник!". Используйте if/else для проверки условия.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const a = prompt('Введите катет А')
                            const b = prompt('Введите катет B')
                            const c = prompt('Введите гипотенузу C')

                            if (a ** 2 + b ** 2 === c ** 2) {
                                alert('Это прямоугольный треугольник!')
                            } else {
                                alert('Это не прямоугольный треугольник!')
                            }
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите программу, которая запрашивает у пользователя три числа и выводит максимальное из них, используйте if/else/else if. Попытайтесь не использовать &&.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const a = prompt('Введите A')
                            const b = prompt('Введите B')
                            const c = prompt('Введите C')
                            if (a > b) {
                                if (a > c) {
                                alert(a)
                            } else {
                                alert(c)
                            }
                            } else if (b > c) {
                                alert(b)
                            } else {
                                alert(c)
                            }
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите программу, которая запрашивает у пользователя число N и отвечает "Число {N} четное!" или "Число {N} нечетное!"</p>
                        </pre>
						<p><b>Например:</b> 3 → Число 3 нечетное!</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const n = prompt('Введите N')
                            if (n % 2 === 0) {
                                alert('Число ' + n + ' четное!')
                            } else {
                                alert('Число ' + n + ' нечетное!')
                            }
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab4">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block4" aria-expanded="false" aria-controls="block4">4. Циклы</button>
                    </h2>
				<div id="block4" class="accordion-collapse collapse" aria-labelledby="tab4" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите программу, которая выводит в консоль сначала нечетные числа от 0 до 5, а потом четные числа от 5 до 10.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            for (let i = 1; i <= 11; i += 2) {
                                if (i > 5) {
                                  console.log(i - 1);
                              } else {
                                console.log(i)
                              }
                            }
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите программу, которая много раз запрашивает у пользователя число, пока он не введет 0 — тогда выводится сумма этих чисел.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            let sum = 0;
                            let a;
                            do {
                            a = prompt('Введите число для суммирования. 0 - остановить');
                            sum += +a;
                            } while (a != 0);
                            alert(sum);
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите программу, которая говорит пользователю "Введите 10", пока он не введёт 10. Затем говорит "Введите 20", потом 40 и т.д. Если пользователь вводит другое число, нужно спросить его ещё раз, пока он не введёт нужное. Когда пользователь введёт больше 100, напишите "Спасибо!" и остановите программу.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            let neededNumber = 10;
                            let currentNumber;
                            do {
                            while(currentNumber != neededNumber) {
                                currentNumber = prompt('Введите число ' + neededNumber);
                            }
                            neededNumber *= 2;
                            } while (currentNumber < 100);
                            alert('Спасибо!')
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab5">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block5" aria-expanded="false" aria-controls="block5">5. Функции</button>
                    </h2>
				<div id="block5" class="accordion-collapse collapse" aria-labelledby="tab5" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию countDown(n), которая получает число {n} в качестве аргумента и печатает в консоль обратный отсчет, начиная с этого числа. Например, countDown(3) напечатает: 3 2 1.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function countDown(n) {
                                for (let i = n; i >= 1; --i) {
                                  console.log(i);
                                } 
                            }
                            countDown(3);
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию getPercents(percent, number), которая возвращает {percent} процентов от {number}.</p>
                        </pre>
						<p>Пояснение: например, getPercents(30, 200) должно вернуть 60.</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function getPercents(percent, number) {
                                return number / 100 * percent;
                            }
                            alert( getPercents(30, 200) );
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию repeatWord(word, count), которая принимает слово и количество раз для его повторения. Например, если вызвать repeatWord('слово', 3) функция напечатает "слово1, слово2, слово3" на одной строке.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function repeatWord(word, count) {
                                let words = '';
                              for (let i = 1; i <= count; ++i) {
                                  words += word + i + ', ';
                              }
                              alert(words);
                            }
                            repeatWord('слово', 3)
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите функцию createAdder(a), которая возвращает функцию addA, которая принимает b и возвращает a + b.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            // Функции должны принимать аргументы.
                            function createAdder() {
                                return function addA() {
                                    return 5;
                                }
                            }
                            const add5 = createAdder(5);
                            alert( add5(5) ) // Должно получиться 10
                            alert( add5(12) ) // Должно получиться 17
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            // Функции должны принимать аргументы.
                            function createAdder(a) {
                                return function addA(b) {
                                    return a + b;
                                }
                            }
                            const add5 = createAdder(5);
                            alert( add5(5) ) // Должно получиться 10
                            alert( add5(12) ) // Должно получиться 17
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Напишите функцию getMonth(n), которая принимает номер месяца и возвращает его название. Например, getMonth(12) ⇒ 'декабрь'. Используйте if/else.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function getMonth(n) {
                                if (n === 1) return 'январь';
                                if (n === 2) return 'февраль';
                                if (n === 3) return 'март';
                                if (n === 4) return 'апрель';
                                if (n === 5) return 'май';
                                if (n === 6) return 'июнь';
                                if (n === 7) return 'июль';
                                if (n === 8) return 'август';
                                if (n === 9) return 'сентябрь';
                                if (n === 10) return 'октябрь';
                                if (n === 11) return 'ноябрь';
                                if (n === 12) return 'декабрь';
                              return 'неизвестно';
                            }
                            alert( getMonth(3) )
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab6">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block6" aria-expanded="false" aria-controls="block6">
                        6. Стрелочные функции, дефолтные аргументы и шаблонные строки
                        </button>
                    </h2>
				<div id="block6" class="accordion-collapse collapse" aria-labelledby="tab6" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию sayHello(name, surname, age, greeting), которая принимает в качестве аргументов имя, фамилию, возраст и приветствие. Каждый аргумент должен иметь дефолтное значение, функция должна быть стрелочной и не иметь ключевого слова return.</p>
                        </pre>
						<p>Например, при вызове sayHello('Дима') функция должна вернуть строку: "Привет, Дима Иванов, тебе 10 лет", а при вызове sayHello('Евгений', 'Петров', 25, 'Здравствуйте, ') функция должна вернуть строку: "Здравствуйте, Евгений Петров, тебе 25 лет". А при вызове без аргументов она должна вернуть: "Привет, Иван Иванов, тебе 10 лет".</p>
						<p>Исходный код:</p>
						<textarea>
                            const sayHello = () => 'Привет, Иван Иванов, тебе 10 лет'
                            alert( sayHello() );
                            alert( sayHello('Дима') );
                            alert( sayHello('Евгений', 'Петров', 25, 'Здравствуйте, ') );
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const sayHello = (
                                name = 'Иван',
                                surname = 'Иванов',
                                age = 10,
                                greeting = 'Привет, ',
                            ) => (greeting + name + ' ' + surname + ', тебе ' + age + ' лет.')
                            
                            alert( sayHello() );
                            alert( sayHello('Дима') );
                            alert( sayHello('Евгений', 'Петров', 25, 'Здравствуйте, ') );
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Это задание повторяет предыдущее, но для его решения необходимо использовать шаблонные строки.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            const sayHello = (
                                name = 'Иван',
                                surname = 'Иванов',
                                age = 10,
                                greeting = 'Привет, ',
                            ) => (
                                greeting + name + ' ' + surname + ', тебе ' + age + ' лет.'
                            )
                            alert( sayHello() );
                            alert( sayHello('Дима') );
                            alert( sayHello('Евгений', 'Петров', 25, 'Здравствуйте, ') );
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const sayHello = (
                                name = 'Иван',
                                surname = 'Иванов',
                                age = 10,
                                greeting = 'Привет, ',
                            ) => (
                                `${greeting}${name} ${surname}, тебе ${age} лет.`
                            );

                            alert( sayHello() );
                            alert( sayHello('Дима') );
                            alert( sayHello('Евгений', 'Петров', 25, 'Здравствуйте, ') );
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab7">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block7" aria-expanded="false" aria-controls="block7">7. Строковые методы и работа с массивами</button>
                    </h2>
				<div id="block7" class="accordion-collapse collapse" aria-labelledby="tab7" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию match, которая принимает 2 строки и возвращает true, если эти строки равны без учета регистра. Например, match('hEllO', 'HELLo') должен вернуть true.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const match = (str1, str2) => {
                                return str1.toLowerCase() == str2.toLowerCase();
                            }
                            alert( match('hEllO', 'hellO') )
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>На сайте Reddit ссылки на разделы (сабреддиты) формируются следующим образом: https://reddit.com/r/название_раздела/. Напишите функцию, которая принимает ссылку на раздел и возвращает название раздела.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const getSubredditName = (link) => {
                                const rIndex = link.indexOf('/r/');
                              const nameStartIndex = rIndex + 3;
                              return link.slice(nameStartIndex, -1);
                            }
                            alert( getSubredditName('https://reddit.com/r/dankmemes/') )
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию reverseAndNegate(arr), которая принимает массив чисел и возвращает перевернутый отрицательный массив.</p>
                        </pre>
						<p>Например: [1, -2, 5, 4] ⇒ [-4, -5, 2, -1].</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const reverseAndNegate = (arr) => {
                                return arr.reverse().map(value => -value);
                            }
                            alert( reverseAndNegate([1, -2, 5, 4]) );
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите функцию, которая принимает массив чисел и сначала к каждому чётному числу прибавляет 4, у каждого нечётного отнимает 2, потом убирает из массива числа, делящиеся на 13 без остатка и возвращает сумму оставшихся чисел.</p>
                        </pre>
						<p>В качестве проверки: calculate([15, 2, 3, 5, 6]) должна вернуть 20.</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const calculate = (arr) => {
                                return arr
                                  .map(v => v % 2 === 0 ? v + 4 : v - 2)
                                  .filter(v => !(v % 13 === 0))
                                  .reduce((a, b) => a + b, 0)
                              }
                              alert(calculate([15, 2, 3, 5, 6]))
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Напишите функцию transformUpvotes(arr), которая принимает массив сокращенных записей количества лайков ['10k', '2.3k', '5k', '32', '28.4k'] и возвращает массив чисел [10000, 2300, 5000, 32, 28400].</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const transformUpvote = strVal => {
                                const hasK = strVal.toLowerCase().includes('k');
                              if (hasK) {
                                  const numPart = strVal.slice(0, -1);
                                return numPart * 1000;
                              }
                              return Number(strVal);
                            }
                            const transformUpvotes = arr => arr.map(transformUpvote);
                            alert( transformUpvotes(['10k', '2.3k', '5k', '32', '28.4k']) )
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab8">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block8" aria-expanded="false" aria-controls="block8">8. Объекты</button>
                    </h2>
				<div id="block8" class="accordion-collapse collapse" aria-labelledby="tab8" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию getInfo(persons), которая принимает массив объектов, описывающих человека, имеющих поля {name, age}, и возвращает объект со средним возрастом и именем самого старшего человека.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const getInfo = persons => {
                                const ages = persons.map(person => person.age);
                              const averageAge = ages.reduce((a, b) => a + b, 0) / ages.length;
                              const maxAge = Math.max(...ages);
                              const oldestPerson = persons.find(person => person.age === maxAge);
                              return {
                                  averageAge,
                                oldestPerson: oldestPerson.name,
                              }
                            }
                            console.log( getInfo([
                              {
                                  name: 'Kaya',
                                age: 10,
                              },
                              {
                                  name: 'Vitya',
                                age: 20,
                              },
                              {
                                  name: 'Kolya',
                                age: 30,
                              }
                            ]))
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию, которая принимает массив массивов вида [['ключ1', 'значение1'], ['ключ2', 'значение2']] и возвращает объект вида: {ключ1: 'значение1', ключ2: 'значение2'}.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const fromEntries = entries => {
                                const obj = {};
                              entries.forEach(entry => {
                                  obj[entry[0]] = entry[1];
                              })
                              return obj;
                            }
                            
                            console.log( fromEntries([
                                ['key2', 3],
                              ['key1', 'hello'],
                            ]) )
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию countChars(str), которая принимает строку и возвращает количество букв в этой строке.</p>
                        </pre>
						<p>Например: countChars('Арарат') должен вернуть: { а: 3, р: 2, т: 1 }.</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const countChars = str => {
                                const chars = {};
                              str.split('').forEach(char => {
                                  const lowerChar = char.toLowerCase();
                                  if (chars[lowerChar] === undefined) {
                                    chars[lowerChar] = 0;
                                }
                                ++chars[lowerChar];
                              })
                              return chars;
                            }
                            console.log( countChars('Арарат') )
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab9">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block9" aria-expanded="false" aria-controls="block9">9. Замыкания</button>
                    </h2>
				<div id="block9" class="accordion-collapse collapse" aria-labelledby="tab9" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Перепишите функцию так, чтобы она писала 'Hello, {name}' в консоль только при первых трёх вызовах, начиная с 4-го ничего не делала. Используйте замыкания.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            const sayHello = name => {
                                console.log(`Hello, ${name}`);
                            }
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const sayHello = (() => {
                                let countCalls = 0;
                            
                                return name => {
                                if (countCalls >= 3) return;
                                console.log(`Hello, ${name}`);
                                ++countCalls;
                              }
                            })();
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                            sayHello('Andrew')
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Переменная, объявленная с помощью var, всплывает и видна на уровне функции, даже если объявлена внутри цикла for. Перепишите программу так, чтобы она печатала от 1 до 10 в консоль. Используйте замыкания.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            for (var i = 0; i < 10; ++i) {
                                setTimeout(() => console.log(i), 0);
                            }
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            for (var i = 0; i < 10; ++i) {
                                ((i) => {
                                  setTimeout(() => console.log(i), 0);
                                })(i)
                            }
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab10">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block10" aria-expanded="false" aria-controls="block10">10. Event Loop и асинхронность</button>
                    </h2>
				<div id="block10" class="accordion-collapse collapse" aria-labelledby="tab10" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию countEverySecond(n), которая каждую секунду печатает в консоль цифру, начиная с 1 и заканчивая {n}.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const countEverySecond = n => {
                                let count = 0;
                                const interval = setInterval(() => {
                                  console.log(++count);
                                if (count === n) {
                                    clearInterval(interval);
                                }
                              }, 1000);
                            };
                            countEverySecond(5);
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию countEverySecond(n), которая каждую секунду печатает в консоль цифру, начиная с 1 и заканчивая {n}.</p>
                            <p><b>Пояснение к заданию:</b> Если в предыдущем задании вы использовали setInterval, перепишите эту функцию с помощью setTimeout  (или наоборот).</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const countEverySecond = n => {
                                let count = 0;
                                setTimeout(function go() {
                                  console.log(++count)
                                if (count < n) {
                                    setTimeout(go, 1000);
                                }
                              }, 1000);
                            };
                            countEverySecond(5);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab11">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block11" aria-expanded="false" aria-controls="block11">11. DOM</button>
                    </h2>
				<div id="block11" class="accordion-collapse collapse" aria-labelledby="tab11" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию random(min, max), которая принимает минимальное и максимальное значение и возвращает целое случайное число n, такое, что: min ≤ n ≤ max. Эта функция понадобится нам для следующих заданий.</p>
                            <p>Используйте Math.random(), умножение и сложение.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            const random = (min, max) => {
                                return 5;
                            };
                            alert( random(0, 1) )
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            alert( random(0, 1) )
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Сверстайте 5 параграфов с текстом. С помощью JS меняйте цвет фона каждого параграфа на случайный каждую секунду. Создайте массив с названиями цветов ['blue', 'cyan', ...] и с помощью функции из предыдущего задания выбирайте случайный цвет из массива.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const colors = ['red', 'green', 'blue', 'yellow', 'cyan', 'purple'];
                            const getRandomColor = () => {
                                return colors[random(0, colors.length - 1)]
                            };
                            const paragraphs = document.querySelectorAll('p');
                            setInterval(() => {
                                paragraphs.forEach(p => {
                                    p.style.backgroundColor = getRandomColor();
                                })
                            }, 1000);
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию, которая принимает HTML в виде строки и возвращает HTML без элементов div (и всего, что внутри), все остальные элементы сохраняются. Используйте createElement, querySelectorAll и innerHTML.</p>
                        </pre>
						<p>Исходный код:</p>
						<textarea>
                            const removeDivs = html => {
                                return html;
                            }
                            const html = '<div></div>Hello<div><div><p>Hello world</p></div></div> <b>World!</b>';
                            alert( removeDivs(html));
                            alert( removeDivs(html) === 'Hello <b>World!</b>'); // Должно быть true
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const removeDivs = html => {
                                const root = document.createElement('span');
                                root.innerHTML = html;
                                const divs = root.querySelectorAll('div');
                                divs.forEach(div => {
                                    div.parentNode.removeChild(div);
                                })
                                return root.innerHTML;
                            }
                            const html = '<div></div>Hello<div><div><p>Hello world</p></div></div> <b>World!</b>';
                            alert( removeDivs(html));
                            alert( removeDivs(html) === 'Hello <b>World!</b>'); // Должно быть true
                        </textarea>
					</div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab12">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block12" aria-expanded="false" aria-controls="block12">12. Событийно-ориентированное программирование</button>
                    </h2>
				<div id="block12" class="accordion-collapse collapse" aria-labelledby="tab12" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Создайте кнопку, которая при клике создает другую кнопку, которая, в свою очередь, создаёт другую кнопку, и т.д.</p>
                            <p><b>Пояснение:</b> Используйте HTML, JS и CSS.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            HTML:
                            <div class="buttons">
                                <button type="button">Клонировать!</button>
                            </div>
                            CSS:
                            button {
                                padding: 5px 10px;
                                margin-bottom: 5px;
                            }
                            .buttons {
                                display: flex;
                                align-items: center;
                                justify-content: space-between;
                                flex-wrap: wrap;
                            }
                            JS:
                            const createNewButton = (text) => {
                                const newButton = document.createElement('button');
                                newButton.innerHTML = text;
                                newButton.type = 'button';
                                newButton.addEventListener('click', () => createNewButton(text));
                                const container = document.querySelector('.buttons');
                                container.appendChild(newButton);
                            };
                            const [button] = document.getElementsByTagName('button');
                            button.addEventListener('click', () => createNewButton('Клонировать!'));
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Создайте раскрывающийся блок (accordion). Сверху блок с заголовком, при нажатии на который снизу показывается блок с текстом, при повторном нажатии блок с текстом скрывается.</p>
                        </pre>
						<p>Исходный код:</p>
						<ul class="nav nav-tabs" id="myTab12" role="tablist">
							<li class="nav-item" role="presentation">
								<button class="nav-link active" id="html12-tab" data-bs-toggle="tab" data-bs-target="#html12" type="button" role="tab" aria-controls="html12" aria-selected="true">HTML</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="css12-tab" data-bs-toggle="tab" data-bs-target="#css12" type="button" role="tab" aria-controls="css12" aria-selected="false">CSS</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="js12-tab" data-bs-toggle="tab" data-bs-target="#js12" type="button" role="tab" aria-controls="js12" aria-selected="false">JS</button>
							</li>
						</ul>
						<div class="tab-content" id="myTabContent12">
							<div class="tab-pane fade show active" id="html12" role="tabpanel" aria-labelledby="html12-tab">
								<textarea>
									<div class="accordion">
										<button class="header">Информация о погоде</button>
										<div class="panel"> Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля.Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля. Сегодня 30 градусов ниже нуля.Сегодня 30 градусов ниже нуля. </div>
									</div>
									<div class="accordion">
										<button class="header">Lorem ipsum</button>
										<div class="panel"> Далеко-далеко за словесными горами в стране, гласных и согласных живут рыбные тексты. Ручеек она вопроса но предложения, моей ipsum путь. До взгляд первую безопасную мир парадигматическая, строчка вопрос ему переулка. Буквоград, его. </div>
									</div>
								</textarea>
							</div>
							<div class="tab-pane fade" id="css12" role="tabpanel" aria-labelledby="css12-tab">
								<textarea> p { font-size: 22px; font-family: sans-serif; margin: 25px 15px; } body { margin: 0; padding: 0; } img { margin: 0 15px; } .accordion { margin: 25px 15px; border-radius: 5px; overflow: hidden; } .header { width: 100%; text-align: left; outline: none; border: none; font-weight: bold; font-size: 18px; cursor: pointer; background: cyan; padding: 5px 10px; } .panel { padding: 5px 10px 10px; background: lightblue; font-size: 14px; } </textarea>
							</div>
							<div class="tab-pane fade" id="js12" role="tabpanel" aria-labelledby="js12-tab">
								<textarea> const accordions = document.querySelectorAll('.accordion'); </textarea>
							</div>
						</div>
                        <img src="assets/images/pics/accordion.png" alt="">
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const initAccordion = element => {
                                const panel = element.querySelector('.panel');
                                const header = element.querySelector('.header');
                                header.addEventListener('click', () => {
                                  panel.classList.toggle('panel--opened');
                                });
                            }
                            const accordions = document.querySelectorAll('.accordion');
                            accordions.forEach(initAccordion);
                        </textarea>
						<br><br>
						<h4>Задание 3</h4>
						<pre>
							<p>Напишите игру: в центре экрана появляется кнопка «Нажми меня». Когда юзер наводит на неё курсор, она сразу же перемещается на случайные координаты.</p>
						</pre>
                        <p>Исходный код:</p>
                        <ul class="nav nav-tabs" id="myTab121" role="tablist">
							<li class="nav-item" role="presentation">
								<button class="nav-link active" id="html121-tab" data-bs-toggle="tab" data-bs-target="#html121" type="button" role="tab" aria-controls="html121" aria-selected="true">HTML</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="css121-tab" data-bs-toggle="tab" data-bs-target="#css121" type="button" role="tab" aria-controls="css121" aria-selected="false">CSS</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="js121-tab" data-bs-toggle="tab" data-bs-target="#js121" type="button" role="tab" aria-controls="js121" aria-selected="false">JS</button>
							</li>
						</ul>
						<div class="tab-content" id="myTabContent121">
							<div class="tab-pane fade show active" id="html121" role="tabpanel" aria-labelledby="html121-tab">
								<textarea>
									<div class="field">
                                        <button type="button">
                                          Нажми меня!
                                        </button>
                                    </div>
								</textarea>
							</div>
							<div class="tab-pane fade" id="css121" role="tabpanel" aria-labelledby="css121-tab">
								<textarea> body { width: 100vw; height: 100vh; padding: 0; margin: 0; } .field { box-sizing: border-box; margin: 10px; border: 1px solid blue; height: calc(100% - 20px); } button { padding: 10px 20px; position: absolute; width: 120px; left: 50%; top: 50%; transform: translate(-50%, -50%); transition: all 0.2s ease; } </textarea>
							</div>
							<div class="tab-pane fade" id="js121" role="tabpanel" aria-labelledby="js121-tab">
								<textarea> 
                                    const random = (min, max) => {
                                        const rand = min + Math.random() * (max + 1 - min);
                                        return Math.floor(rand);
                                    };
                                </textarea>
							</div>
						</div>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const button = document.querySelector('button');
                            button.addEventListener('mouseenter', () => {
                                button.style.left = `${random(10, 90)}%`;
                                button.style.top = `${random(5, 95)}%`;
                            })
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Выведите на экран надпись «Ширина экрана {width} пикселей» и обновляйте её при изменении ширины экрана.</p>
                        </pre>
                        <p>Исходный код:</p>
                        <ul class="nav nav-tabs" id="myTab122" role="tablist">
							<li class="nav-item" role="presentation">
								<button class="nav-link active" id="html122-tab" data-bs-toggle="tab" data-bs-target="#html122" type="button" role="tab" aria-controls="html122" aria-selected="true">HTML</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="css122-tab" data-bs-toggle="tab" data-bs-target="#css122" type="button" role="tab" aria-controls="css122" aria-selected="false">CSS</button>
							</li>
						</ul>
						<div class="tab-content" id="myTabContent122">
							<div class="tab-pane fade show active" id="html122" role="tabpanel" aria-labelledby="html122-tab">
								<textarea>
									<div class="field">
                                        <button type="button">
                                          Ширина экрана x пикселей
                                        </button>
                                    </div>
								</textarea>
							</div>
							<div class="tab-pane fade" id="css122" role="tabpanel" aria-labelledby="css122-tab">
								<textarea> body { width: 100vw; height: 100vh; padding: 0; margin: 0; } .field { box-sizing: border-box; margin: 10px; border: 1px solid blue; height: calc(100% - 20px); } button { white-space: nowrap; padding: 10px 20px; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); transition: all 0.2s ease; } </textarea>
							</div>
						</div>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const button = document.querySelector('button');
                            const updateWidthLabel = () => {
                                const currentWidth = window.innerWidth;
                                button.innerHTML = `Ширина экрана ${currentWidth} пикселей`
                            }
                            updateWidthLabel();
                            window.addEventListener('resize', updateWidthLabel);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab13">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block13" aria-expanded="false" aria-controls="block13">13. Объектно-ориентированное программирование</button>
                    </h2>
				<div id="block13" class="accordion-collapse collapse" aria-labelledby="tab13" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Создайте иерархию классов животных, используйте ES5 (прототипы и функции-конструкторы). Создайте класс  «Существо» с методом born() — родиться, от него наследуется «Животное», от которого наследуются «Человек», «Птица», «Рыба». От человека наследуется «Китаец». Придумайте для каждого класса методы и поля.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function Thing(name) {
                                this.name = name;
                            }
                            Thing.prototype.born = function() {
                                console.log(`${this.name} родился`);
                            }
                            function Animal(name, maxAge) {
                                Thing.call(this, name);
                            
                                this.maxAge = maxAge;
                            }
                            Animal.prototype = Object.create(Thing.prototype);
                            Animal.prototype.constructor = Animal;
                            
                            function Bird(name, maxAge) {
                                Animal.call(this, name, maxAge);
                            }
                            Bird.prototype = Object.create(Animal.prototype);
                            Bird.prototype.constructor = Bird;
                            Bird.prototype.fly = function(distance) {
                                console.log(`Птица по имени ${this.name} пролетает ${distance} метров!`)
                            }
                            
                            function Fish(name, maxAge, isSeaFish) {
                                Animal.call(this, name, maxAge);
                                this.isSeaFish = isSeaFish;
                            }
                            Fish.prototype = Object.create(Animal.prototype);
                            Fish.prototype.constructor = Fish;
                            Fish.prototype.swim = function(distance) {
                                console.log(`Рыба по имени ${this.name} проплывает ${distance} метров!`)
                            }
                            
                            
                            function Human(name, maxAge, height) {
                                Animal.call(this, name, maxAge);
                                this.height = height;
                                this.inventions = [];
                            }
                            Human.prototype = Object.create(Animal.prototype);
                            Human.prototype.constructor = Human;
                            Human.prototype.invent = function(item) {
                                this.inventions.push(item);
                                console.log(`Я, ${this.name}, изобрел ${item.name}`);
                            }
                            
                            
                            function Chinese(name, maxAge, height) {
                                Human.call(this, name, maxAge, height);
                            }
                            Chinese.prototype = Object.create(Human.prototype);
                            Chinese.prototype.constructor = Chinese;
                            Chinese.prototype.buildWall = function() {
                                console.log(`Я, ${this.name}, помогаю строить Великую Китайскую Стену!`)
                            }
                            
                            const ying = new Chinese('Ying', 72, 167);
                            ying.born();
                            ying.invent({ name: 'Кирка' } );
                            ying.buildWall();
                            
                            console.log(ying instanceof Thing) // Должно быть true
                            console.log(ying instanceof Animal) // Должно быть true
                            console.log(ying instanceof Human) // Должно быть true
                            console.log(ying instanceof Chinese) // Должно быть true
                            console.log(ying instanceof Fish) // Должно быть false
                            console.log(ying instanceof Bird) // Должно быть false
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Перепишите иерархию из предыдущего задания, используя ES6-классы (extends, super).</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            class Thing {
                            constructor(name) {
                                this.name = name;
                                }
                            
                                born() {
                                console.log(`${this.name} родился`);
                                }
                            }
                            
                            class Animal extends Thing {
                                constructor(name, maxAge) {
                                super(name);
                                this.maxAge = maxAge;
                                }
                            }
                            
                            
                            class Bird extends Animal {
                                fly(distance) {
                                console.log(`Птица по имени ${this.name} пролетает ${distance} метров!`)
                                }
                            }
                            
                            class Fish extends Animal {
                                swim(distance) {
                                console.log(`Рыба по имени ${this.name} проплывает ${distance} метров!`)
                                }
                            }
                            
                            
                            class Human extends Animal {
                                constructor(name, maxAge, height) {
                                super(name, maxAge);
                                this.height = height;
                                this.inventions = [];
                                }
                            
                                invent(item) {
                                this.inventions.push(item);
                                console.log(`Я, ${this.name}, изобрел ${item.name}`);
                                }
                            }
                            
                            
                            class Chinese extends Human {
                                buildWall() {
                                console.log(`Я, ${this.name}, помогаю строить Великую Китайскую Стену!`)
                                }
                            }
                            
                            const ying = new Chinese('Ying', 72, 167);
                            ying.born();
                            ying.invent({ name: 'Кирка' } );
                            ying.buildWall();
                            
                            console.log(ying instanceof Thing) // Должно быть true
                            console.log(ying instanceof Animal) // Должно быть true
                            console.log(ying instanceof Human) // Должно быть true
                            console.log(ying instanceof Chinese) // Должно быть true
                            console.log(ying instanceof Fish) // Должно быть false
                            console.log(ying instanceof Bird) // Должно быть false
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab14">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block14" aria-expanded="false" aria-controls="block14">14. Рекурсия</button>
                    </h2>
				<div id="block14" class="accordion-collapse collapse" aria-labelledby="tab14" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию multiply(a, b), которая умножает a на b с помощью сложения и рекурсии.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const multiply = function mult(a, b) {
                                if (a === 0 || b ===0) {
                                    return 0
                                }
                                if (b < 0) {
                                    return -1 * mult(a, -1 * b);
                                }
                                if (b === 1) {
                                    return a;
                                } else {
                                    return a + mult(a, b - 1)
                                }
                            }
                              
                            console.log(
                                multiply(3, 5),
                                multiply(-3, 5),
                                multiply(3, -5),
                                multiply(-3, -5),
                            )
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию pow(a, b), которая возводит a в степень b с помощью умножения и рекурсии.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const pow = function power(a, b) {
                                if (a === 0) {
                                    return 0
                                }
                                if (b === 0) {
                                    return 1;
                                }
                                if (b < 0) {
                                    return 1 / power(a, -1 * b);
                                }
                                if (b === 1) {
                                    return a;
                                } else {
                                    return a * power(a, b - 1)
                                }
                            }
                            
                            console.log(
                                pow(2, 2),
                                pow(-2, 2),
                                pow(2, -2),
                                pow(-2, -2),
                            )
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Числа Фибоначчи — последовательность чисел, в которой первые два числа равны 1 и 1, а каждое последующее число равно сумме двух предыдущих чисел.</p>
                        </pre>
                        <img src="assets/images/pics/fibonachi.png" alt="">
                        <p>Напишите функцию fib(n), которая возвращает n-ое число Фибонначи.</p>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const fib = function fibonacci(n) {
                                if (n <= 2) return 1;
                                return fibonacci(n - 2) + fibonacci(n - 1);
                            }
                            console.log(
                                fib(3),
                              fib(5),
                              fib(10),
                              fib(12),
                            )
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите функцию len(str), которая принимает строку и рекурсивно считает её длину. Свойство str.length использовать нельзя.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const len = function length(str, n = 0) {
                                if (str === '') return n;
                                return length(str.slice(1), n + 1);
                            }
                            console.log(
                                len('hello'),
                                len(''),
                                len('111111111111'),
                            )
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Переверните строку с помощью рекурсии.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const reverse = function rev(str) {
                                if (str === '') return str;
                                const lastIdx = str.length -1;
                                return str[lastIdx] + rev( str.slice(0, lastIdx) )
                            }
                            console.log(
                                reverse('hello'),
                                reverse(''),
                                reverse('1234567890'),
                            )
                        </textarea>
						<br>
						<h4>Задание 6</h4>
                        <pre>
                            <p>Факториал числа n (n!) — это произведение натуральных чисел от 1 до n. Напишите функцию fac(n).</p>
                        </pre>
                        <img src="assets/images/pics/factorial.png" alt="">
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const fac = function factorial(n) {
                                if (n <= 1) {
                                    return n;
                                }
                                return n * factorial(n - 1);
                            }
                            console.log(
                                fac(3),
                                fac(1),
                                fac(5),
                                fac(10),
                            )
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab15">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block15" aria-expanded="false" aria-controls="block15">15. Регулярные выражения</button>
                    </h2>
				<div id="block15" class="accordion-collapse collapse" aria-labelledby="tab15" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию containsDigit(str), которая возвращает true, если {str} содержит хотя бы одну цифру. Используйте регулярные выражения.</p>
                        </pre>
                        <p>Исходный код:</p>
                        <textarea>
                            const containsDigit = (str) => {
                                ...
                            }
                            alert(containsDigit('sdlfjsdlfj'))
                            alert(containsDigit('adlkfja;lkdfjg3'))
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const containsDigit = (str) => {
                                return Boolean(str.match(/\d/));
                            }
                            alert(containsDigit('sdlfjsdlfj'))
                            alert(containsDigit('adlkfja;lkdfjg3'))
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите регулярное выражение, которое валидирует только четные числа. Создайте функцию isEven(n), принимающую Number {n} и возвращающую true, если n — четное.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const isEven = (n) => {
                                const nStr = String(n);
                                return Boolean( nStr.match(/-?\d*[24680]$/) );
                            }
                            console.log(
                                isEven(0),
                                isEven(1),
                                isEven(2),
                                isEven(-13),
                                isEven(-14),
                                isEven(13),
                                isEven(14),
                            )
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию validatePhoneNumber(str), которая возвращает true, если str — это номер телефона в формате +7 (987) 654-32-10 или +7 (4212) 53-53-53.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const validatePhoneNumber = (str) => {
                                const mobile = /^\+\d \(\d{3}\) \d{3}-\d{2}-\d{2}$/.source;
                                const home = /^\+\d \(\d{4}\) (\d{2}-){2}\d{2}$/.source;
                                const phoneRegexp = new RegExp(`(${mobile})|(${home})`, 'g');
                                return Boolean( str.match(phoneRegexp) );
                            }
                            console.log(
                                validatePhoneNumber('+7 (987) 654-32-10'),
                                validatePhoneNumber('+7 (4212) 53-53-53'),
                                validatePhoneNumber('  +7 (4212) 53-53-53'),
                                validatePhoneNumber('+7 (4212) 53-53-53  '),
                                validatePhoneNumber('+7(4212) 53-53-53'),
                                validatePhoneNumber('+7(4212) 523'),
                            )
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Для подключения к базе данных используется адрес типа jdbc:mysql://sdasdasdasd:szdasdasd:dfsdfsdfsdf/sdfsdfsdf?user=root&password=12345. Напишите функцию, которая принимает этот адрес в виде строки и возвращает ту же строку, но со звёздочками вместо пароля. Пароль находится после password=.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const hideDBPassword = jdbcAddr => {
                                const passRegex = /password=(\S+)/g;
                                const passMatch = passRegex.exec(jdbcAddr);
                                if (!passMatch) {
                                    return jdbcAddr;
                                }
                                const pass = passMatch[1];
                                const stars = Array.from({ length: pass.length }).fill('*').join('');
                                const censuredAddr = jdbcAddr.replace(pass, stars);
                                return censuredAddr;
                            }
                            console.log( hideDBPassword('jdbc:mysql://sdasdasdasd:szdasdasd:dfsdfsdfsdf/sdfsdfsdf?user=root&password=12345') );
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Напишите функцию, принимающую строку и заменяющую все гласные на их индекс в строке.</p>
                            <p><b>Например:</b> "Здравствуйте ребята" ⇒ "Здр3вств8йт11 р14б16т18!"</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const replaceVowels = str => {
                                const vowelRegexp = /[уеыаоэёяию]/gi
                                const chars = str.split('');
                                const vowels = chars.reduce((vowels, char, idx) => {
                                    if (char.match(vowelRegexp)) {
                                        vowels.push({ char, idx });
                                    }
                                    return vowels;
                                }, [])
                                let newStr = str;
                                vowels.forEach(({ char, idx }) => {
                                    newStr = newStr.replace(char, idx);
                                })
                                return newStr;
                            }
                            console.log( replaceVowels('Здравствуйте Ребята!') );
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab16">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block16" aria-expanded="false" aria-controls="block16">16. Callback</button>
                    </h2>
				<div id="block16" class="accordion-collapse collapse" aria-labelledby="tab16" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p class="mb-3">Напишите функцию serverMock(latency, cb), которая принимает необходимую задержку и callback.</p>
                            <p class="mb-3">Callback должен принимать массив products, содержащий объекты товаров. Каждый товар содержит поля price (случайное число от 300 до 10000) и name (случайное наименование из массива наименований).</p>
                            <p class="mb-3">Функция через {latency} миллисекунд вызывает cb со случайно сгенерированным массивом товаров длиной от 5 до 10.</p>
                            <p>Используйте функцию random(min, max), написанную ранее.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const productNames = [
                                'Орехи', 'Морковь', 'Спаржа', 'Печенье', 'Наушники', 'Молоко',
                                'Сок', 'Контейнер', 'JS-разработчик', 'Прямые руки', 'Водка',
                            ];
                            const getRandomProductName = () => {
                                return productNames[random(0, productNames.length - 1)];
                            };
                            const getRandomPrice = () => random(300, 10000);
                            const serverMock = (latency, cb) => {
                                const products = Array.from({ length: random(5, 10) })
                                .map(() => ({
                                    name: getRandomProductName(),
                                    price: getRandomPrice(),
                                }));
                                setTimeout(() => {
                                    cb(products);
                                }, latency)
                            };
                            serverMock(3000, (products) => {
                                console.log(products);
                            });
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Используя функцию из предыдущего задания, создайте три «сервера».</p>
                            <ul>
                                <li>Первый принимает {номер продукта} и возвращает продукт, у которого есть поле {номер стеллажа на складе}.</li>
                                <li>Второй сервер принимает {номер стеллажа на складе} и {номер продукта} и возвращает {номер коробки}.</li>
                                <li>Третий сервер принимает {номер коробки} и возвращает вес продукта.</li>
                            </ul>
                            <p>Напишите функцию, которая принимает номер продукта, последовательно обращается к этим «серверам» и возвращает вес коробки, в которой этот продукт находится. Каждый сервер должен иметь <b>400мс {latency}</b>.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const LATENCY = 400;
                            const getProduct = (productIdx, cb) => {
                                const productsById = {
                                    0: { name: 'Орехи', rackId: 1 },
                                    1: { name: 'Морковь', rackId: 1 },
                                    2: { name: 'Спаржа', rackId: 1 },
                                    3: { name: 'Печенье', rackId: 2 },
                                    4: { name: 'Наушники', rackId: 2 },
                                    5: { name: 'Молоко', rackId: 2 },
                                    6: { name: 'Сок', rackId: 1 },
                                    7: { name: 'Контейнер', rackId: 1 },
                                    8: { name: 'JS-разработчик', rackId: 1 },
                                    9: { name: 'Прямые руки', rackId: 2 },
                                    10: { name: 'Водка', rackId: 2 },
                                };
                                setTimeout(cb, LATENCY, productsById[productIdx]);
                            };
                            const getBoxIdx = (rackId, productIdx, cb) => {
                                const rackIdToBoxes = {
                                    // rackId: boxes: { boxId0: productId2, boxId1: productId0 }
                                    1: [2, 0, 1, 6, 7, 8],
                                    2: [5, 3, 4, 10, 9],
                                };
                                setTimeout(cb, LATENCY, rackIdToBoxes[rackId].indexOf(productIdx));
                            };
                            const getBoxMass = (rackId, boxId, cb) => {
                                const boxIdToMass = {
                                    // rackId: boxes: { boxId0: massProductId2, boxId1: massProductId0 }
                                    1: [10, 11, 12, 13, 14, 15],
                                    2: [16, 17, 18, 19, 20],
                                }
                                setTimeout(cb, LATENCY, boxIdToMass[rackId][boxId]);
                            };
                            const printProductMass = (productIdx) => {
                                getProduct(productIdx, ({ name, rackId }) => {
                                    getBoxIdx(rackId, productIdx, (boxId) => {
                                    getBoxMass(rackId, boxId, (boxMass) => {
                                        console.log(`Коробка №${boxId} c ${name} находится на стеллаже №${rackId} и весит ${boxMass} кг`);
                                    });
                                    });
                                });
                            };
                            printProductMass(10);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab17">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block17" aria-expanded="false" aria-controls="block17">17. Промисы</button>
                    </h2>
				<div id="block17" class="accordion-collapse collapse" aria-labelledby="tab17" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию checkLuck(chance), которая принимает chance в процентах и возвращает true с вероятностью {chance}%, а false — с вероятностью {100 - chance}%. То есть, если вызвать checkLuck(30) миллион раз, то примерно 300 тысяч раз она должна вернуть true. Функция понадобится для следующих задач. Вызовите функцию миллион раз, чтобы проверить её работоспособность.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                              return Math.random() <= probability;
                            }
                            const tries = {
                                [true]: 0,
                              [false]: 0,
                            }
                            for (let i = 0; i < 1000000; ++i) {
                                tries[checkLuck(30)]++;
                            }
                            console.log(tries);
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Перепишите serverMock, используя Promise. С вероятностью 30% Promise должен упасть с ошибкой.</p>
                            <p>Напишите функцию serverMock(latency), которая принимает необходимую задержку и возвращает Promise с массивом products, содержащим объекты товаров. Каждый товар содержит поля price (случайное число от 300 до 10000) и name (случайное наименование из массива наименований). Через {latency} миллисекунд функция вызывает resolve() со случайно сгенерированным массивом товаров длиной от 5 до 10. Выведите в консоль массив товаров и ошибку, если она произошла.</p>
                        </pre>
                        <p>Исходный код:</p>
                        <textarea>
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const productNames = [
                                'Орехи', 'Морковь', 'Спаржа', 'Печенье', 'Наушники', 'Молоко',
                                'Сок', 'Контейнер', 'JS-разработчик', 'Прямые руки', 'Водка',
                            ];
                            const getRandomProductName = () => {
                                return productNames[random(0, productNames.length - 1)];
                            };
                            const getRandomPrice = () => random(300, 10000);
                            const serverMock = (latency, cb) => {
                                const products = Array.from({ length: random(5, 10) })
                                .map(() => ({
                                    name: getRandomProductName(),
                                    price: getRandomPrice(),
                                }));
                                setTimeout(() => {
                                    cb(products);
                                }, latency)
                            };
                            serverMock(3000, (products) => {
                                console.log(products);
                            });
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                                return Math.random() <= probability;
                            }                            
                            const productNames = [
                                'Орехи', 'Морковь', 'Спаржа', 'Печенье', 'Наушники', 'Молоко',
                                'Сок', 'Контейнер', 'JS-разработчик', 'Прямые руки', 'Водка',
                            ];
                            const getRandomProductName = () => {
                                return productNames[random(0, productNames.length - 1)];
                            };
                            const getRandomPrice = () => random(300, 10000);
                            const getRandomProducts = () => {
                                return Array.from({ length: random(5, 10) })
                                .map(() => ({
                                    name: getRandomProductName(),
                                    price: getRandomPrice(),
                                }));
                            }
                            const serverMock = (latency, cb) => {
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                        const shouldFail = checkLuck(30);
                                    if (shouldFail) {
                                        rej('Connection error');
                                    } else {
                                        res( getRandomProducts() );
                                    }
                                    }, latency)
                                })
                            };
                            serverMock(2000)
                            .then(products => {
                                console.log(products);
                            })
                            .catch(err => {
                                console.log(err);
                            })
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию promiseTimeout(ms, promise), которая принимает время таймаута в миллисекундах и промис и возвращает новый промис с ограничением времени на его resolve/reject.</p>
                            <p>То есть, если у нас есть некая функция fetchData(), получающая данные с сервера и возвращающая промис, а мы вызовем promiseTimeout(1000, fetchData()), но сервер будет отвечать дольше одной секунды, то мы должны получить reject('Timeout').</p>
                            <p>Используйте Promise.race().</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const promiseTimeout = (ms, promise) => {
                                const timeout = new Promise((resolve, reject) => {
                                    setTimeout(() => {
                                        reject(new Error(`Timed out in ${ms} ms.`));
                                    }, ms);
                                });
                                return Promise.race([timeout, promise]);
                            };
                            const fetchData = () => new Promise((res, rej) => {
                                setTimeout(() => {
                                    res('Fetched data');
                                }, 1001)
                            })
                            promiseTimeout(1000, fetchData())
                            .then(msg => console.log(msg))
                            .catch(err => console.log(err))
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите функцию flipCoin() — подбросить монетку. Монетка летит от 50 до 200 миллисекунд. И с шансом 50% выпадает орёл (heads) или решка (tails). То есть функция возвращает promise со строкой 'heads' или 'tails'.</p>
                            <p>Используйте функции random(min, max) и checkLuck(chance) из предыдущих заданий.</p>
                            <p>Подбросьте 100000 монет одновременно и посчитайте, сколько раз выпала решка, а сколько — орёл. Используйте Promise.all().</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                                return Math.random() <= probability;
                            }
                            const flipCoin = () => new Promise((res, rej) => {
                                setTimeout(() => {
                                    if ( checkLuck(50) ) {
                                        res('heads');
                                    } else {
                                        res('tails');
                                    }
                                }, random(50, 200));
                            });
                            const flips = Array.from({ length: 100000 })
                            .map(() => flipCoin());
                            Promise.all(flips).then(results => {
                                const counts = results.reduce((counts, result) => {
                                    counts[result]++;
                                    return counts;
                                }, {tails: 0, heads: 0});
                                console.log('With Promise.all', counts);
                            });
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Перепишите задачу с тремя «серверами», используя промисы. Каждый сервер должен с вероятностью 10% выдавать ошибку со своим названием, то есть делать reject(). Выведите эту ошибку в консоль, если она случится.</p>
                        </pre>
                        <p>Переделав функцию из предыдущего задания, создайте три «сервера»:</p>
                        <ul>
                            <li>Первый принимает {номер продукта} и коллбек, возвращает в коллбек продукт, у которого есть поля: {номер стеллажа на складе} и {имя продукта}.</li>
                            <li>Второй сервер принимает {номер стеллажа на складе} и {номер продукта} и возвращает {номер коробки}.</li>
                            <li>Третий сервер принимает {номер стеллажа на складе} и {номер коробки}, возвращает {вес коробки}.</li>
                        </ul>
                        <p>Напишите функцию, которая принимает номер продукта, обращается к этим «серверам» и пишет в консоль:</p>
                        <pre>
                            <p>Коробка №{номер коробки} c {имя продукта} находится на стеллаже №{номер стеллажа на складе} и весит {вес коробки} кг.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const LATENCY = 400;

                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                                return Math.random() <= probability;
                            };
                            const getProduct = (productIdx, cb) => {
                                const productsById = {
                                    0: { name: 'Орехи', rackId: 1 },
                                    1: { name: 'Морковь', rackId: 1 },
                                    2: { name: 'Спаржа', rackId: 1 },
                                    3: { name: 'Печенье', rackId: 2 },
                                    4: { name: 'Наушники', rackId: 2 },
                                    5: { name: 'Молоко', rackId: 2 },
                                    6: { name: 'Сок', rackId: 1 },
                                    7: { name: 'Контейнер', rackId: 1 },
                                    8: { name: 'JS-разработчик', rackId: 1 },
                                    9: { name: 'Прямые руки', rackId: 2 },
                                    10: { name: 'Водка', rackId: 2 },
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getProduct failed');
                                    } else {
                                            res(productsById[productIdx])
                                    }
                                    }, LATENCY);
                                });
                            };
                            const getBoxIdx = (rackId, productIdx, cb) => {
                                const rackIdToBoxes = {
                                    // rackId: boxes: { boxId0: productId2, boxId1: productId0 }
                                    1: [2, 0, 1, 6, 7, 8],
                                    2: [5, 3, 4, 10, 9],
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getBoxIdx failed');
                                    } else {
                                            res(rackIdToBoxes[rackId].indexOf(productIdx))
                                    }
                                    }, LATENCY);
                                });
                            };
                            const getBoxMass = (rackId, boxId, cb) => {
                                const boxIdToMass = {
                                    // rackId: boxes: { boxId0: massProductId2, boxId1: massProductId0 }
                                    1: [10, 11, 12, 13, 14, 15],
                                    2: [16, 17, 18, 19, 20],
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getBoxMass failed');
                                    } else {
                                            res(boxIdToMass[rackId][boxId])
                                    }
                                    }, LATENCY);
                                });
                            };
                            const printProductMass = productIdx => {
                                let rackIndex;
                                let productName;
                                let boxIndex;
                                getProduct(productIdx)
                                .then(({ name, rackId}) => {
                                    rackIndex = rackId;
                                    productName = name;
                                    return getBoxIdx(rackIndex, productIdx);
                                })
                                .then(boxId => {
                                    boxIndex = boxId;
                                    return getBoxMass(rackIndex, boxId)
                                })
                                .then(boxMass => {
                                    console.log(`Коробка №${boxIndex} c ${productName} находится на стеллаже №${rackIndex} и весит ${boxMass} кг`);
                                })
                                .catch(err => {
                                    console.log(`Ошибка: ${err}`)
                                })
                            }
                            printProductMass(10);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab18">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block18" aria-expanded="false" aria-controls="block18">18. Async/Await</button>
                    </h2>
				<div id="block18" class="accordion-collapse collapse" aria-labelledby="tab18" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Перепешите последнюю функцию задачи с тремя «серверами» с помощью async/await.</p>
                        </pre>
                        <p>Исходный код:</p>
                        <textarea>
                            const LATENCY = 400;

                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                            return Math.random() <= probability;
                            };

                            const getProduct = (productIdx, cb) => {
                            const productsById = {
                                0: { name: 'Орехи', rackId: 1 },
                                1: { name: 'Морковь', rackId: 1 },
                                2: { name: 'Спаржа', rackId: 1 },
                                3: { name: 'Печенье', rackId: 2 },
                                4: { name: 'Наушники', rackId: 2 },
                                5: { name: 'Молоко', rackId: 2 },
                                6: { name: 'Сок', rackId: 1 },
                                7: { name: 'Контейнер', rackId: 1 },
                                8: { name: 'JS-разработчик', rackId: 1 },
                                9: { name: 'Прямые руки', rackId: 2 },
                                10: { name: 'Водка', rackId: 2 },
                            };
                            return new Promise((res, rej) => {
                                setTimeout(() => {
                                if (checkLuck(10)) {
                                    rej('getProduct failed');
                                } else {
                                        res(productsById[productIdx])
                                }
                                }, LATENCY);
                            });
                            };

                            const getBoxIdx = (rackId, productIdx, cb) => {
                            const rackIdToBoxes = {
                                // rackId: boxes: { boxId0: productId2, boxId1: productId0 }
                                1: [2, 0, 1, 6, 7, 8],
                                2: [5, 3, 4, 10, 9],
                            };
                            return new Promise((res, rej) => {
                                setTimeout(() => {
                                if (checkLuck(10)) {
                                    rej('getBoxIdx failed');
                                } else {
                                        res(rackIdToBoxes[rackId].indexOf(productIdx))
                                }
                                }, LATENCY);
                            });
                            };

                            const getBoxMass = (rackId, boxId, cb) => {
                            const boxIdToMass = {
                                // rackId: boxes: { boxId0: massProductId2, boxId1: massProductId0 }
                                1: [10, 11, 12, 13, 14, 15],
                                2: [16, 17, 18, 19, 20],
                            };
                            return new Promise((res, rej) => {
                                setTimeout(() => {
                                if (checkLuck(10)) {
                                    rej('getBoxMass failed');
                                } else {
                                        res(boxIdToMass[rackId][boxId])
                                }
                                }, LATENCY);
                            });
                            };

                            const printProductMass = productIdx => {
                                let rackIndex;
                            let productName;
                            let boxIndex;
                                getProduct(productIdx)
                                .then(({ name, rackId}) => {
                                    rackIndex = rackId;
                                productName = name;
                                return getBoxIdx(rackIndex, productIdx);
                                })
                                .then(boxId => {
                                    boxIndex = boxId;
                                    return getBoxMass(rackIndex, boxId)
                                })
                                .then(boxMass => {
                                console.log(`Коробка №${boxIndex} c ${productName} находится на стеллаже №${rackIndex} и весит ${boxMass} кг`);
                                })
                                .catch(err => {
                                    console.log(`Ошибка: ${err}`)
                                })
                            }

                            printProductMass(10);
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const LATENCY = 400;
                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                                return Math.random() <= probability;
                            };
                            const getProduct = (productIdx, cb) => {
                                const productsById = {
                                    0: { name: 'Орехи', rackId: 1 },
                                    1: { name: 'Морковь', rackId: 1 },
                                    2: { name: 'Спаржа', rackId: 1 },
                                    3: { name: 'Печенье', rackId: 2 },
                                    4: { name: 'Наушники', rackId: 2 },
                                    5: { name: 'Молоко', rackId: 2 },
                                    6: { name: 'Сок', rackId: 1 },
                                    7: { name: 'Контейнер', rackId: 1 },
                                    8: { name: 'JS-разработчик', rackId: 1 },
                                    9: { name: 'Прямые руки', rackId: 2 },
                                    10: { name: 'Водка', rackId: 2 },
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getProduct failed');
                                    } else {
                                            res(productsById[productIdx])
                                    }
                                    }, LATENCY);
                                });
                            };
                            const getBoxIdx = (rackId, productIdx, cb) => {
                                const rackIdToBoxes = {
                                    // rackId: boxes: { boxId0: productId2, boxId1: productId0 }
                                    1: [2, 0, 1, 6, 7, 8],
                                    2: [5, 3, 4, 10, 9],
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getBoxIdx failed');
                                    } else {
                                            res(rackIdToBoxes[rackId].indexOf(productIdx))
                                    }
                                    }, LATENCY);
                                });
                            };
                            const getBoxMass = (rackId, boxId, cb) => {
                                const boxIdToMass = {
                                    // rackId: boxes: { boxId0: massProductId2, boxId1: massProductId0 }
                                    1: [10, 11, 12, 13, 14, 15],
                                    2: [16, 17, 18, 19, 20],
                                };
                                return new Promise((res, rej) => {
                                    setTimeout(() => {
                                    if (checkLuck(10)) {
                                        rej('getBoxMass failed');
                                    } else {
                                            res(boxIdToMass[rackId][boxId])
                                    }
                                    }, LATENCY);
                                });
                            };
                            const printProductMass = async productIdx => {
                                    try {
                                        const { rackId, name } = await getProduct(productIdx);
                                        const boxId = await getBoxIdx(rackId, productIdx);
                                        const boxMass = await getBoxMass(rackId, boxId);
                                        console.log(`Коробка №${boxId} c ${name} находится на стеллаже №${rackId} и весит ${boxMass} кг`);
                                    } catch(err) {
                                        console.log(`Ошибка: ${err}`)
                                    }
                            }
                            printProductMass(10);
                        </textarea>
						<br>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию delay(ms), которую можно использовать в виде await delay(100) в асинхронных функциях, чтобы остановить выполнение на 100 мс. Посчитайте от 1 до 10 секунд в консоль, используя эту функцию и обычный цикл for.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const delay = ms => {
                                return new Promise((res) => setTimeout(res, ms));
                            }
                            (async () => {
                                for (let i = 1; i <= 10; ++i) {
                                    await delay(1000);
                                    console.log(i);
                                }
                            })();
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab19">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block19" aria-expanded="false" aria-controls="block19">19. Итератор</button>
                    </h2>
				<div id="block19" class="accordion-collapse collapse" aria-labelledby="tab19" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Создайте функцию range(min, max), возвращающую Iterable объект от {min} до {max}.</p>
                        </pre>
                        <p>Пояснение к заданию:</p>
                        <textarea>
                            for (let i of range(0, 5)) {
                                console.log(i); // Должен напечатать от 0 до 5
                            }
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const range = (min, max) => {
                                return {
                                    [Symbol.iterator]: () => {
                                        let current = min;
                                        let last = max;
                                        return {
                                            next() {
                                                if (current > max) {
                                                    return { done: true };
                                                } else {
                                                    return { done: false, value: current++ };
                                                }
                                            },
                                        }                                
                                    }
                                }
                            };
                            for (let i of range(0, 5) ) {
                                console.log(i);
                            }
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Создайте Iterable, бесконечно возвращающий числа Фибоначчи.</p>
                            <p>*Число Фибоначчи — последовательность чисел, которая начинается с 1, 1, 2, 3, 5. Каждое последующее число равно сумме двух предыдущих.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const fib = {
                                [Symbol.iterator]: () => {
                                    let prev = 1;
                                    let prevPrev = 1;
                                    let currentIdx = 0;
                                    const done = false;
                                    return {
                                        next() {
                                            if (currentIdx++ <= 2) {
                                                return { done, value: 1 }
                                            }
                                            const value = prev + prevPrev;
                                            prevPrev = prev;
                                            prev = value;
                                            return { done, value };
                                        },
                                    };
                                }
                            };
                            let counter = 0;
                            for (let i of fib ) {
                                console.log(i);
                                if (counter++ === 15) {
                                    break;
                                }
                            }
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Перепишите прошлое задания, используя генератор function* getFib().</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            function* getFib() {
                                let prev = 1;
                                let prevPrev = 1;
                                for (let i = 0;; ++i) {
                                    if (i <= 2) {
                                        yield 1;
                                    } else {
                                        const value = prev + prevPrev;
                                        prevPrev = prev;
                                        prev = value;
                                        yield value;
                                    }
                                }
                            }
                            let counter = 0;
                            for (let i of getFib() ) {
                                console.log(i);
                                if (counter++ === 15) {
                                    break;
                                }
                            }
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите асинхронный бесконечный генератор подбрасывания монетки async function* flipCoins(). С 50% шансом он возвращает 'tails' или 'heads'. Монетка подбрасывается 200-400 мс.</p>
                            <p>Подбросьте монетку 10 раз используя for await.</p>
                            <p>С помощью performance.now(), который возвращает время прошедшее с 1970 года в миллисекундах, определите, сколько времени заняло подбросить 10 монеток.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const random = (min, max) => {
                                const rand = min + Math.random() * (max + 1 - min);
                                return Math.floor(rand);
                            };
                            const checkLuck = (chancePercents = 50) => {
                                const probability = chancePercents / 100;
                                return Math.random() <= probability;
                            }                            
                            const flipCoin = () => {
                                if ( checkLuck(50) ) {
                                    return 'heads';
                                } else {
                                    return 'tails';
                                }
                            };                            
                            async function* flipCoins() {
                                while(true) {
                                    await new Promise(res => setTimeout(() => res(), random(200, 400)));
                                    yield flipCoin();
                                }
                            }                            
                            (async () => {
                                let counter = 0;
                                const startTime = performance.now();
                                for await (let result of flipCoins()) {
                                    console.log(result);
                                    if (++counter === 10) break;
                                }
                                const endTime = performance.now();
                                console.log(`Time passed: ${endTime - startTime}ms`);
                            })();
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab20">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block20" aria-expanded="false" aria-controls="block20">20. JSON</button>
                    </h2>
				<div id="block20" class="accordion-collapse collapse" aria-labelledby="tab20" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию isValidJson(str), которая возвращает true, если str — валидный JSON.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const isValidJson = str => {
                                if (!str || typeof str !== 'string') {
                                    return false;
                                }
                                try {
                                    JSON.parse(str)
                                    return true;
                                } catch(e) {
                                    return false;
                                }
                            }                            
                            console.log([
                                'a;lsdkjfa;lkejr',
                                JSON.stringify({}),
                                JSON.stringify({ hello: 'world' }),
                                JSON.stringify({ date: new Date() }),
                                JSON.stringify([1,2,3,4,5]),
                                '',
                                928374928374928347,
                            ].map(isValidJson));
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p class="mb-2">Как известно, объект new Date() не сериализуется с помощью JSON.stringify(). Напишите функции serialize(arr) и deserialize(str).</p>
                            <p class="mb-2">serialize принимает массив элементов, среди которых могут быть объекты типа Date. Каждый такой объект превратите в timestamp и сериализуйте его с помощью JSON.stringify().</p>
                            <p class="mb-2">А deserialize(str) должен принимать строку полученную с помощью serialize() и возвращать массив объектов, среди которых снова должны появиться объекты типа Date.</p>
                            <p class="mb-2">Объекты типа Date возможны только на первом уровне вложенности (внутри массива).</p>
                            <p><b>Внимание:</b> возможно перепутать timestamp и просто число, учтите это.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const arr = [
                                new Date(),
                                { hello: 'word' },
                                new Date(234234234),
                                { a: 'b' },
                                239470293704957,
                                [1, 2, 3, 4, 5],
                                '1970-01-03T17:03:54.234Z',
                            ];
                            const VERY_UNCOMMON = ')(*&#@)(*!----ЦЫ1В2JWO)';
                            const serialize = arr => {
                                const serializable = arr
                                .map(obj => {
                                    if (obj instanceof Date) {
                                        return `${VERY_UNCOMMON}${obj.getTime()}`;
                                    }
                                    return obj;
                                })
                                return JSON.stringify(serializable);
                            };

                            const deserialize = json => {
                                const parsed = JSON.parse(json);
                                return parsed
                                .map(entry => {
                                    if (typeof entry === 'string' && entry.includes(VERY_UNCOMMON)) {
                                        const timestamp = entry.replace(VERY_UNCOMMON, '');
                                        return new Date( Number(timestamp) )
                                    }
                                    return entry;
                                })
                            }
                            console.log(arr);
                            const str = serialize(arr);
                            console.log(deserialize(str));
                        </textarea>
						<br>
						<h4>Задание 3</h4>
						<pre>
                            <p>Перепишите функцию memo(fn) так, чтобы её можно было использовать для {fn} с 2+ аргументами. Сериализуйте аргументы для запоминания в JSON. Подумайте, какие есть ограничения и минусы у такого подхода.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const slowCalculation = (n, m) => {
                                for (let i = 0; i < 1000000000; ++i);
                                return n * 100 * m;
                            };
                            const memo = fn => {
                                let lastArgs = {};
                              let lastReturn;
                              return (...args) => {
                                  const currentArgs = JSON.stringify(args);
                                  if (currentArgs === lastArgs) {
                                    return lastReturn;
                                }
                                lastArgs = args;
                                lastReturn = fn(...args);
                                return lastReturn;
                              };
                            };
                            console.log( slowCalculation(10, 20) );
                            console.log( slowCalculation(10, 20) );
                            const memoizedCalculation = memo(slowCalculation);
                            console.log( memoizedCalculation(20, 30) )
                            // Эти два должны вывестись одновременно
                            setTimeout(() => {
                                console.log( memoizedCalculation(30, 40))
                                console.log( memoizedCalculation(30, 40))
                            }, 3000);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab21">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block21" aria-expanded="false" aria-controls="block21">21. this</button>
                    </h2>
				<div id="block21" class="accordion-collapse collapse" aria-labelledby="tab21" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию createCounter(n), которая создает объект с методами count(), увеличивающий {n} на 1, print(), печатающий {n} в консоль, и set(n), устанавливающий новый {n}.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const createCounter = n => {
                                return {
                                  n,
                                  set(n) {
                                    this.n = n;
                                },
                                count() {
                                    this.set(this.n + 1);
                                    },
                                print() {
                                    console.log(this.n);
                                }
                              }
                            }
                            const counter = createCounter(5);
                            counter.print();
                            counter.count();
                            counter.print();
                            counter.set(2);
                            counter.print();
                            counter.count();
                            counter.print();
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <p>Добавьте возможность цепного вызова методов counter:</p>
                        <textarea>
                            const counter = createCounter(5);
                            counter
                            .print() // 5
                            .set(0)
                            .count()
                            .print() // 1
                            .count()
                            .print() // 2
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const createCounter = n => {
                                return {
                                  n,
                                  set(n) {
                                    this.n = n;
                                  return this;
                                },
                                count() {
                                    this.set(this.n + 1);
                                  return this;
                                    },
                                print() {
                                    console.log(this.n);
                                  return this;
                                }
                              }
                            }
                            const counter = createCounter(5);
                            counter
                            .print() // 5
                            .set(0)
                            .count()
                            .print() // 1
                            .count()
                            .print() // 2
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <p>Исправьте код так, чтобы this не терялось.</p>
                        <p>Исходный код:</p>
                        <ul class="nav nav-tabs" id="myTab213" role="tablist">
							<li class="nav-item" role="presentation">
								<button class="nav-link active" id="html213-tab" data-bs-toggle="tab" data-bs-target="#html213" type="button" role="tab" aria-controls="html213" aria-selected="true">HTML</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="css213-tab" data-bs-toggle="tab" data-bs-target="#css213" type="button" role="tab" aria-controls="css213" aria-selected="false">CSS</button>
							</li>
							<li class="nav-item" role="presentation">
								<button class="nav-link" id="js213-tab" data-bs-toggle="tab" data-bs-target="#js213" type="button" role="tab" aria-controls="js213" aria-selected="false">JS</button>
							</li>
						</ul>
						<div class="tab-content" id="myTabContent213">
							<div class="tab-pane fade show active" id="html213" role="tabpanel" aria-labelledby="html213-tab">
								<textarea>
									<div id="root">

                                    </div>
                                    
                                    <button class="increment">
                                      INCREMENT
                                    </button>
                                    
                                    <button class="decrement">
                                      Decrement
                                    </button>
								</textarea>
							</div>
							<div class="tab-pane fade" id="css213" role="tabpanel" aria-labelledby="css213-tab">
								<textarea> p { font-size: 22px; font-family: sans-serif; margin: 25px 15px; } body { margin: 0; padding: 0; } img { margin: 0 15px; } #root { display: flex; align-items: center; justify-content: center; font-family: sans-serif; font-weight: bold; font-size: 50px; } button { margin-left: 50%; transform: translate(-50%); font-size: 16px; padding: 5px 10px; width: 130px; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; } </textarea>
							</div>
							<div class="tab-pane fade" id="js213" role="tabpanel" aria-labelledby="js213-tab">
								<textarea>
                                    class Counter {
                                        constructor(n) {
                                          this.state = { n };
                                        this.root = document.getElementById('root');
                                        this.render();
                                      }
                                      
                                      increment() {
                                          this.setState({ n: this.state.n + 1 });
                                      }
                                      
                                      decrement() {
                                          this.setState({ n: this.state.n - 1 });
                                      }
                                      
                                      setState(newState) {
                                          this.state = {
                                            ...this.state,
                                          ...newState,
                                        };
                                        this.render();
                                      }
                                      
                                      render() {
                                          this.root.innerHTML = '';
                                        this.root.innerHTML = this.state.n;
                                      }
                                    }
                                    
                                    const buttonIncrement = document.querySelector('.increment');
                                    const buttonDecrement = document.querySelector('.decrement');
                                    
                                    const counter = new Counter(5);
                                    
                                    buttonIncrement.addEventListener('click', counter.increment);
                                    buttonDecrement.addEventListener('click', counter.decrement);
                                </textarea>
							</div>
						</div>
                        <img src="assets/images/pics/this.png" alt="">
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            class Counter {
                                constructor(n) {
                                  this.state = { n };
                                    this.root = document.getElementById('root');
                                    this.render();
                                    this.increment = this.increment.bind(this);
                                    this.decrement = this.decrement.bind(this);
                                }
                                increment() {
                                    this.setState({ n: this.state.n + 1 });
                                }
                                decrement() {
                                    this.setState({ n: this.state.n - 1 });
                                }
                                setState(newState) {
                                    this.state = {
                                        ...this.state,
                                        ...newState,
                                    };
                                    this.render();
                                }
                                render() {
                                    this.root.innerHTML = '';
                                    this.root.innerHTML = this.state.n;
                                }
                            }
                            
                            const buttonIncrement = document.querySelector('.increment');
                            const buttonDecrement = document.querySelector('.decrement');
                            const counter = new Counter(5);
                            buttonIncrement.addEventListener('click', counter.increment);
                            buttonDecrement.addEventListener('click', counter.decrement);
                        </textarea>
						<br><br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Снова исправьте код так, чтобы this не терялось. Вспомните про стрелочные функции.</p>
                        </pre>
                        <p>Исходный код:</p>
                        <textarea>
                            const five = {
                                a: 5,
                                add(b) {
                                    console.log(this.a + b);
                                    return 'PRINTED!';
                                },
                            }
                            const withLogging = fn => {
                                return arg => {
                                    console.log(`Function ${fn.name} called with ${arg}:`)
                                    const returned = fn.call(this, arg);
                                    console.log(`Function ${fn.name} returned ${returned}`)
                                    return returned;
                                }
                            }
                            five.add = withLogging(five.add);
                            five.add(10);
                            five.add(5);
                            five.add(-5);
                        </textarea>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p>Еще раз перепишите функцию memo(fn) так, чтобы её можно было использовать для методов объекта (чтобы this в теле fn не терялся).</p>
                            <p>Пояснение: используйте call или apply.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const calculator = {
                                three() {
                                  return 3;
                                },
                              
                                slowCalculation(n, m) {
                                  for (let i = 0; i < 1000000000; ++i);
                                  return n * m * this.three();
                                }
                            };
                            const memo = fn => {
                                let lastArgs = {};
                                let lastReturn;
                                return function(...args) {
                                    const currentArgs = JSON.stringify(args);
                                    if (currentArgs === lastArgs) {
                                    return lastReturn;
                                    }
                                    lastArgs = args;
                                    lastReturn = fn.call(this, ...arguments);
                                    // lastReturn = fn.apply(this, arguments);   
                                    return lastReturn;
                                };
                            };                            
                            console.log( calculator.slowCalculation(30, 40) );
                            console.log( calculator.slowCalculation(30, 40) );
                            calculator.slowCalculation = memo(calculator.slowCalculation);
                            console.log( calculator.slowCalculation(20, 30) )
                            // Эти два должны вывестись одновременно
                            setTimeout(() => {
                                console.log( calculator.slowCalculation(30, 40))
                                console.log( calculator.slowCalculation(30, 40))
                            }, 3000);
                        </textarea>
                    </div>
				</div>
			</div>
			<div class="accordion-item">
				<h2 class="accordion-header" id="tab22">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block22" aria-expanded="false" aria-controls="block22">22. Map, Set, Entry</button>
                    </h2>
				<div id="block22" class="accordion-collapse collapse" aria-labelledby="tab22" data-bs-parent="#accordionExample">
					<div class="accordion-body">
						<h4>Задание 1</h4>
                        <pre>
                            <p>Напишите функцию print(iterable), которая принимает Set или Map и печатает в консоль значения этих структур в виде "key: {key}, value: {value}", если это Map, и просто "value: {value}", если это Set.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const print = iterable => {
                                for (let entry of iterable) {
                                    if (Array.isArray(entry)) {
                                        const [key, value] = entry;
                                        console.log('key:', key);
                                        console.log('value:', value);
                                    } else {
                                        console.log('value:', entry);
                                    }
                                }
                            };
                            const map = new Map()
                            .set({}, 'empty')
                            .set('empty', {})
                            .set('hello', 'world')
                            .set(() => {}, {fn: 'function'} );
                            print(map);
                            const set = new Set([
                                'hello', 'hello', 'hello', 'empty', 'world', () => {}, {}, {}
                            ])                            
                            print(set);
                        </textarea>
						<br>
						<h4>Задание 2</h4>
                        <pre>
                            <p>Напишите функцию uniqueChars(str), которая принимает строку и возвращает количество уникальных символов в строке.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const unique = str => {
                                return new Set(str.split('')).size;
                            }
                            const str = 'abcabcabcabca abcabcabbbbcbabcbac';
                            console.log( unique(str) )
                        </textarea>
						<br>
						<h4>Задание 3</h4>
                        <pre>
                            <p>Напишите функцию onlyUniqueLength(arr), которая принимает массив строк и удаляет дублирующиеся по длине строки. То есть: onlyUniqueLength(['1', '2', '3', '44']) ⇒ ['1', '44'].</p>
                            <p>Остаться должна именно первая найденная строка каждой длины, порядок гарантирован.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const onlyUniqueLength = arr => {
                                const map = new Map();
                                arr.reverse('').forEach(word => {
                                    map.set(word.length, word);
                                })
                                return [...map.values()].reverse();
                            }
                            const arr1 = ['1', '2', '3', '44']
                            console.log( onlyUniqueLength(arr1) )
                            const arr2 = ['1', '2', '3', '44', '55', '66', '777', '987'];
                            console.log( onlyUniqueLength(arr2) )
                        </textarea>
						<br>
						<h4>Задание 4</h4>
                        <pre>
                            <p>Напишите функцию, которая принимает объект массивов и возвращает Map Set-ов.</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const transformObjectOfArraysToMapOfSets = obj => {
                                const entriesWithSets = Object.entries(obj)
                                .map(([key, value]) => [key, new Set(value)]);
                                return new Map(entriesWithSets);
                            }                            
                            const obj = {
                                ones: [1,1,1,1,1,1,1,1,1,1,1,1,1,11,11,1111,11,1],
                                twos: [2,2,2,2,2,2,2,2222,22,222222,222,2,2,2,22],
                                threes: [3,33,3333,333,33,33,3,3333,33,3,3,3,3,3],
                            }                            
                            console.log(transformObjectOfArraysToMapOfSets(obj));
                        </textarea>
						<br>
						<h4>Задание 5</h4>
                        <pre>
                            <p class="mb-2">И ещё раз перепишите memo(fn) так, чтобы аргументы и возвращаемое значение хранились в new Map(), а для сравнения аргументов вместо JSON.stringify использовалась функция hash, принимающая аргументы возвращающая нечто, что легко сравнить (например строки или числа). Кэшируйте все вызовы, переименуйте memo в withCache.</p>
                            <p>Сигнатура должна теперь выглядеть следующим образом: withCache(fn, hash).</p>
                        </pre>
                        <legend>Ответ:</legend>
                        <textarea class="border-success">
                            const calculator = {
                                three() {
                                    return 3;
                                },
                                slowCalculation(n, m) {
                                    for (let i = 0; i < 1000000000; ++i);
                                    return n * m * this.three();
                                }
                            };
                              
                            const withCache = (fn, hash) => {
                                const cache = new Map();
                                return function(...args) {
                                    const currentArgs = hash(...args);
                                    if (cache.has(currentArgs)) {
                                        return cache.get(currentArgs);
                                    }
                                    const newReturn = fn.apply(this, arguments);
                                    cache.set(currentArgs, newReturn)
                                    return newReturn;
                                }
                            };
                            console.log( calculator.slowCalculation(30, 40) );
                            console.log( calculator.slowCalculation(30, 40) );
                            const hash = (a, b) => String(a) + `,${b}`;
                            calculator.slowCalculation = withCache(calculator.slowCalculation, hash);
                            console.log( calculator.slowCalculation(20, 30) )                            
                            // Эти два должны вывестись одновременно
                            setTimeout(() => {
                                console.log( calculator.slowCalculation(30, 40))
                                console.log( calculator.slowCalculation(30, 40))
                            }, 3000);
                        </textarea>
                    </div>
				</div>
			</div>
		</div>
	</div>
	<script src="assets/js/jquery-3.7.0.min.js"></script>
	<script src="assets/js/main.js"></script>
	<script src="assets/js/bootstrap.js"></script>
	<script src="assets/js/bootstrap.bundle.js"></script>
</body>
</html>